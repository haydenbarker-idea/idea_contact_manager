[2025-10-19 20:58:22] === Quick Deploy Started ===
[2025-10-19 20:58:22] Timestamp: 20251019_205822
[0;32mâœ“ Git configured for automated logging[0m
[2025-10-19 20:58:22] === STEP 1: Pulling latest code ===
[2025-10-19 20:58:22] Current branch:
feature/viral-saas
[2025-10-19 20:58:22] Fetching from GitHub...
[2025-10-19 20:58:22] Pulling latest code...
From https://github.com/haydenbarker-idea/idea_contact_manager
 * branch            feature/viral-saas -> FETCH_HEAD
Already up to date.
[0;32mâœ“ Code updated[0m
[2025-10-19 20:58:22] === STEP 2: Checking dependencies ===
[2025-10-19 20:58:22] Running npm install...

> contact-exchange@0.1.0 postinstall
> prisma generate

Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma

âœ” Generated Prisma Client (v5.22.0) to ./node_modules/@prisma/client in 158ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Need your database queries to be 1000x faster? Accelerate offers you that and more: https://pris.ly/tip-2-accelerate


up to date, audited 517 packages in 6s

171 packages are looking for funding
  run `npm fund` for details

1 critical severity vulnerability

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
[0;32mâœ“ Dependencies updated[0m
[2025-10-19 20:58:29] === STEP 3: Regenerating Prisma client ===
Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma

âœ” Generated Prisma Client (v5.22.0) to ./node_modules/@prisma/client in 170ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Want to react to database changes in your app as they happen? Discover how with Pulse: https://pris.ly/tip-1-pulse

[0;32mâœ“ Prisma client updated[0m
[2025-10-19 20:58:32] === STEP 4: Building application ===
[2025-10-19 20:58:32] Running npm run build (takes ~90 seconds)...

> contact-exchange@0.1.0 build
> next build

 âš  Invalid next.config.js options detected: 
 âš      Unrecognized key(s) in object: 'isrMemoryCacheSize' at "experimental"
 âš  See more info here: https://nextjs.org/docs/messages/invalid-next-config
  â–² Next.js 14.2.14
  - Environments: .env

   Creating an optimized production build ...
 âœ“ Compiled successfully
   Linting and checking validity of types ...
   Collecting page data ...
   Generating static pages (0/20) ...
   Generating static pages (5/20) 
Session error: n [Error]: Dynamic server usage: Route /api/auth/session couldn't be rendered statically because it used `cookies`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error
    at l (/var/www/contact-exchange-saas/.next/server/chunks/7787.js:1:37156)
    at Object.d (/var/www/contact-exchange-saas/.next/server/chunks/1681.js:1:1694)
    at u (/var/www/contact-exchange-saas/.next/server/app/api/auth/login/route.js:1:2340)
    at c (/var/www/contact-exchange-saas/.next/server/app/api/auth/session/route.js:1:876)
    at /var/www/contact-exchange-saas/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:36963
    at /var/www/contact-exchange-saas/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854) {
  description: "Route /api/auth/session couldn't be rendered statically because it used `cookies`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error",
  digest: 'DYNAMIC_SERVER_USAGE'
}
Session error: n [Error]: Dynamic server usage: Route /api/me/contacts couldn't be rendered statically because it used `cookies`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error
    at l (/var/www/contact-exchange-saas/.next/server/chunks/7787.js:1:37156)
    at Object.d (/var/www/contact-exchange-saas/.next/server/chunks/1681.js:1:1694)
    at u (/var/www/contact-exchange-saas/.next/server/app/api/auth/login/route.js:1:2340)
    at l (/var/www/contact-exchange-saas/.next/server/app/api/me/contacts/route.js:1:887)
    at /var/www/contact-exchange-saas/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:36963
    at /var/www/contact-exchange-saas/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854) {
  description: "Route /api/me/contacts couldn't be rendered statically because it used `cookies`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error",
  digest: 'DYNAMIC_SERVER_USAGE'
}
Check slug error: B [Error]: Dynamic server usage: Route /api/users/check-slug couldn't be rendered statically because it used `request.url`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error
    at V (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:21777)
    at Object.get (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:29137)
    at c (/var/www/contact-exchange-saas/.next/server/app/api/users/check-slug/route.js:1:557)
    at /var/www/contact-exchange-saas/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:36963
    at /var/www/contact-exchange-saas/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/var/www/contact-exchange-saas/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /var/www/contact-exchange-saas/node_modules/next/dist/server/lib/trace/tracer.js:122:103 {
  description: "Route /api/users/check-slug couldn't be rendered statically because it used `request.url`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error",
  digest: 'DYNAMIC_SERVER_USAGE'
}
   Generating static pages (10/20) 
   Generating static pages (15/20) 
 âœ“ Generating static pages (20/20)
   Finalizing page optimization ...
   Collecting build traces ...

Route (app)                              Size     First Load JS
â”Œ â—‹ /                                    5.85 kB         108 kB
â”œ â—‹ /_not-found                          138 B          87.3 kB
â”œ â—‹ /admin                               5.05 kB         100 kB
â”œ Æ’ /api/admin/users                     0 B                0 B
â”œ Æ’ /api/admin/users/[id]/contacts       0 B                0 B
â”œ Æ’ /api/auth/login                      0 B                0 B
â”œ Æ’ /api/auth/logout                     0 B                0 B
â”œ Æ’ /api/auth/session                    0 B                0 B
â”œ Æ’ /api/communications/email            0 B                0 B
â”œ Æ’ /api/communications/sms              0 B                0 B
â”œ Æ’ /api/contacts/[id]                   0 B                0 B
â”œ Æ’ /api/contacts/[id]/communications    0 B                0 B
â”œ Æ’ /api/contacts/[id]/status            0 B                0 B
â”œ Æ’ /api/contacts/[id]/vcard             0 B                0 B
â”œ Æ’ /api/contacts/list                   0 B                0 B
â”œ Æ’ /api/contacts/submit                 0 B                0 B
â”œ Æ’ /api/debug                           0 B                0 B
â”œ Æ’ /api/me/contacts                     0 B                0 B
â”œ Æ’ /api/templates                       0 B                0 B
â”œ Æ’ /api/test/email                      0 B                0 B
â”œ Æ’ /api/test/sms                        0 B                0 B
â”œ Æ’ /api/upload/photo                    0 B                0 B
â”œ Æ’ /api/uploads/[...path]               0 B                0 B
â”œ Æ’ /api/users/check-slug                0 B                0 B
â”œ Æ’ /api/users/me                        0 B                0 B
â”œ Æ’ /api/users/signup                    0 B                0 B
â”œ â—‹ /api/vcard                           0 B                0 B
â”œ â—‹ /dashboard                           5.87 kB         106 kB
â”œ â—‹ /get-started                         5.41 kB         106 kB
â”œ â—‹ /login                               3.91 kB         106 kB
â”œ Æ’ /me                                  145 B           112 kB
â”œ â—‹ /settings                            5.13 kB         106 kB
â”œ Æ’ /u/[username]                        144 B           112 kB
â”” Æ’ /u/[username]/qr                     12.2 kB         107 kB
+ First Load JS shared by all            87.2 kB
  â”œ chunks/117-0ccfc4ea0196d079.js       31.6 kB
  â”œ chunks/fd9d1056-b88f8a4cc02eef8b.js  53.6 kB
  â”” other shared chunks (total)          1.95 kB


Æ’ Middleware                             26.6 kB

â—‹  (Static)   prerendered as static content
Æ’  (Dynamic)  server-rendered on demand

[0;32mâœ“ Build completed successfully[0m
[2025-10-19 21:00:01] === STEP 5: Copying static files ===
[0;32mâœ“ Static files copied[0m
[2025-10-19 21:00:01] === STEP 6: Restarting service ===
[0;32mâœ“ Service restarted successfully[0m
[2025-10-19 21:00:04] === STEP 7: Testing Communication Features ===
[2025-10-19 21:00:04] Waiting for app to be ready...
[2025-10-19 21:00:07] Testing SMS (Twilio) to +16476242735...
[2025-10-19 21:00:08] SMS Response: {"success":true,"configured":true,"messageId":"SM1149f795e57638da40e304a8a60adf87","status":"queued","to":"+16476242735","from":"+12898138309","message":"Test SMS sent successfully! Check your phone."}
[0;32mâœ“ âœ“ SMS: Test SMS sent successfully! Check your phone.[0m
[2025-10-19 21:00:08] Testing Email (Resend) to hbarker@ideanetworks.com...
[2025-10-19 21:00:08] Email Response: {"success":true,"configured":true,"messageId":"118f7eb0-3271-4ec0-8acd-c652b18afcc8","to":"hbarker@ideanetworks.com","from":"no-reply@ideanetworks.ca","message":"Test email sent successfully! Check your inbox."}
[0;32mâœ“ âœ“ Email: Test email sent successfully! Check your inbox.[0m
[2025-10-19 21:00:08] === STEP 8: Verifying deployment ===
[2025-10-19 21:00:08] Testing HTTPS connection...
[0;32mâœ“ Site is accessible (HTTP 200)[0m
[2025-10-19 21:00:09] Checking database...
[2025-10-19 21:00:09] Database stats:
[2025-10-19 21:00:09]   â€¢ Users: 0
[2025-10-19 21:00:09]   â€¢ Contacts: 0
[0;32mâœ“ Verification complete[0m
[2025-10-19 21:00:09] === DEPLOYMENT SUCCESS ===
[2025-10-19 21:00:09] Deployment completed at: 2025-10-19 21:00:09
[2025-10-19 21:00:09] === Syncing logs to GitHub ===
[2025-10-19 21:00:09] Adding deployment logs...
