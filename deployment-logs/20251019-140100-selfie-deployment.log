[2025-10-19 14:01:00] === STEP 1: Stopping service ===
[2025-10-19 14:01:00] âœ“ Service stopped
[2025-10-19 14:01:00] === STEP 2: Pulling latest code ===
HEAD is now at 18df62b docs: clarify that .env credentials are preserved across deployments - Add explicit log messages showing credentials are preserved - Add comment explaining script only ADDS missing variables - Shows 'Twilio credentials already configured (preserved)' - Shows 'Resend API key already configured (preserved)' - Makes it clear you only need to enter credentials once
[2025-10-19 14:01:01] âœ“ Code updated to latest version
[2025-10-19 14:01:01] === STEP 3: Updating environment variables ===
[2025-10-19 14:01:01] âœ“ Backed up existing .env (credentials are preserved)
[2025-10-19 14:01:01] Bio already configured
[2025-10-19 14:01:01] âœ“ Twilio credentials already configured (preserved)
[2025-10-19 14:01:01] âœ“ Resend API key already configured (preserved)
[2025-10-19 14:01:01] âœ“ Environment configured
[2025-10-19 14:01:01] === STEP 4: Installing dependencies ===

> contact-exchange@0.1.0 postinstall
> prisma generate

Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma

âœ” Generated Prisma Client (v5.22.0) to ./node_modules/@prisma/client in 199ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Easily identify and fix slow SQL queries in your app. Optimize helps you enhance your visibility: https://pris.ly/--optimize


up to date, audited 515 packages in 6s

171 packages are looking for funding
  run `npm fund` for details

1 critical severity vulnerability

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
[2025-10-19 14:01:07] âœ“ Dependencies installed
[2025-10-19 14:01:07] === STEP 5: Creating missing UI components ===
[2025-10-19 14:01:07] Dialog component already exists
[2025-10-19 14:01:07] === STEP 6: Running database migration ===
Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "contact_exchange", schema "public" at "localhost:5432"

The database is already in sync with the Prisma schema.

Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma

âœ” Generated Prisma Client (v5.22.0) to ./node_modules/@prisma/client in 153ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Want real-time updates to your database without manual polling? Discover how with Pulse: https://pris.ly/tip-0-pulse

[2025-10-19 14:01:12] âœ“ Database updated with photo and conference fields
[2025-10-19 14:01:12] === STEP 7: Creating uploads directory ===
[2025-10-19 14:01:12] âœ“ Uploads directory ready
[2025-10-19 14:01:12] === STEP 8: Building application ===

> contact-exchange@0.1.0 build
> next build

 âš  Invalid next.config.js options detected: 
 âš      Unrecognized key(s) in object: 'isrMemoryCacheSize' at "experimental"
 âš  See more info here: https://nextjs.org/docs/messages/invalid-next-config
  â–² Next.js 14.2.14
  - Environments: .env

   Creating an optimized production build ...
 âœ“ Compiled successfully
   Linting and checking validity of types ...
   Collecting page data ...
   Generating static pages (0/8) ...
   Generating static pages (2/8) 
   Generating static pages (4/8) 
   Generating static pages (6/8) 
 âœ“ Generating static pages (8/8)
   Finalizing page optimization ...
   Collecting build traces ...

Route (app)                              Size     First Load JS
â”Œ Æ’ /                                    142 B          87.3 kB
â”œ â—‹ /_not-found                          142 B          87.3 kB
â”œ â—‹ /admin                               31.6 kB         137 kB
â”œ Æ’ /api/communications/email            0 B                0 B
â”œ Æ’ /api/communications/sms              0 B                0 B
â”œ Æ’ /api/contacts/[id]                   0 B                0 B
â”œ Æ’ /api/contacts/[id]/communications    0 B                0 B
â”œ Æ’ /api/contacts/[id]/status            0 B                0 B
â”œ Æ’ /api/contacts/[id]/vcard             0 B                0 B
â”œ Æ’ /api/contacts/list                   0 B                0 B
â”œ Æ’ /api/contacts/submit                 0 B                0 B
â”œ Æ’ /api/debug                           0 B                0 B
â”œ Æ’ /api/templates                       0 B                0 B
â”œ Æ’ /api/test/email                      0 B                0 B
â”œ Æ’ /api/test/sms                        0 B                0 B
â”œ Æ’ /api/upload/photo                    0 B                0 B
â”œ Æ’ /api/uploads/[...path]               0 B                0 B
â”œ â—‹ /api/vcard                           0 B                0 B
â”” Æ’ /me                                  10.5 kB         112 kB
+ First Load JS shared by all            87.2 kB
  â”œ chunks/117-ca9033809cf6eaa2.js       31.6 kB
  â”œ chunks/fd9d1056-b88f8a4cc02eef8b.js  53.6 kB
  â”” other shared chunks (total)          1.96 kB


â—‹  (Static)   prerendered as static content
Æ’  (Dynamic)  server-rendered on demand

[2025-10-19 14:02:26] âœ“ Build complete
[2025-10-19 14:02:26] === STEP 8.5: Setting up standalone static files ===
[2025-10-19 14:02:26] Copying public folder to standalone...
[2025-10-19 14:02:26] Copying .next/static to standalone...
[2025-10-19 14:02:26] Setting up uploads symlink...
[2025-10-19 14:02:26] âœ“ Uploads symlinked for real-time access
[2025-10-19 14:02:26] âœ“ Standalone static files ready
[2025-10-19 14:02:26] === STEP 9: Starting service ===
[2025-10-19 14:02:31] === STEP 10: Checking service status ===
[2025-10-19 14:02:31] âœ“ Service is running
[2025-10-19 14:02:31] === STEP 11: Testing application ===
[2025-10-19 14:02:34] âœ“ Local server responding (HTTP 307)
[2025-10-19 14:02:35] âœ“ Public domain responding (HTTP 307)
[2025-10-19 14:02:35] === STEP 12: Testing Communication Features ===
[2025-10-19 14:02:35] Testing SMS (Twilio)...
[2025-10-19 14:02:36] âœ“ SMS test sent to +16476242735
[2025-10-19 14:02:36] Testing Email (Resend)...
[2025-10-19 14:02:36] âœ“ Email test sent to hbarker@ideanetworks.com
[2025-10-19 14:02:36] 
[2025-10-19 14:02:36] âœ¨ Your Selfie Experience is LIVE! âœ¨
[2025-10-19 14:02:36] 
[2025-10-19 14:02:36] ðŸ“± PUBLIC URL:
[2025-10-19 14:02:36]    https://contacts.ideanetworks.com
[2025-10-19 14:02:36] 
[2025-10-19 14:02:36] ðŸ”§ ADMIN DASHBOARD:
[2025-10-19 14:02:36]    https://contacts.ideanetworks.com/admin
[2025-10-19 14:02:36] 
[2025-10-19 14:02:36] âœ… WHAT'S DEPLOYED:
[2025-10-19 14:02:36]    â€¢ Landing page with your photo & bio
[2025-10-19 14:02:36]    â€¢ Selfie capture experience
[2025-10-19 14:02:36]    â€¢ Conference/event tracking
[2025-10-19 14:02:36]    â€¢ Fireworks celebration
[2025-10-19 14:02:36]    â€¢ vCards with embedded photos
[2025-10-19 14:02:36]    â€¢ SMS & WhatsApp & LinkedIn integration
[2025-10-19 14:02:36]    â€¢ Enhanced admin dashboard
[2025-10-19 14:02:36]    â€¢ Communication features tested automatically
[2025-10-19 14:02:36] 
[2025-10-19 14:02:36] ðŸ“‹ NEXT STEPS:
[2025-10-19 14:02:36]    1. Check your phone (+16476242735) for test SMS
[2025-10-19 14:02:36]    2. Check your email (hbarker@ideanetworks.com) for test message
[2025-10-19 14:02:36]    3. Test full flow: https://contacts.ideanetworks.com
[2025-10-19 14:02:36]    4. Allow camera permissions and take a test selfie
[2025-10-19 14:02:36]    5. Check admin dashboard for your test contact
[2025-10-19 14:02:36]    6. Print your QR code!
[2025-10-19 14:02:36] 
[2025-10-19 14:02:36] ðŸŽ¯ AT THE CONFERENCE:
[2025-10-19 14:02:36]    â€¢ Hand them your phone
[2025-10-19 14:02:36]    â€¢ Click 'Connect with Hayden'
[2025-10-19 14:02:36]    â€¢ Take selfie together (memorable moment!)
[2025-10-19 14:02:36]    â€¢ They fill quick form
[2025-10-19 14:02:36]    â€¢ Fireworks celebration ðŸŽ†
[2025-10-19 14:02:36]    â€¢ They download your vCard with photo
[2025-10-19 14:02:36] 
[2025-10-19 14:02:36] Full deployment log: /var/www/contact-exchange/deployment-logs/20251019-140100-selfie-deployment.log
[2025-10-19 14:02:36] Logs will be synced to GitHub automatically
[2025-10-19 14:02:36] === Syncing logs to GitHub ===
